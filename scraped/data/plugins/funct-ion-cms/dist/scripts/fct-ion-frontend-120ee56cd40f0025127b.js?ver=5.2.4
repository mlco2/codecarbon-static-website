!function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}__webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=1344)}({1344:function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});__webpack_require__(1345),__webpack_require__(309),__webpack_require__(480)},1345:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__shared_service_graphql_service__=__webpack_require__(158),__WEBPACK_IMPORTED_MODULE_1__shared_service_window_service__=__webpack_require__(30),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};new function DataStoreService(){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DataStoreService),__WEBPACK_IMPORTED_MODULE_1__shared_service_window_service__.a.element.fctDataStore&&__WEBPACK_IMPORTED_MODULE_1__shared_service_window_service__.a.element.fctDataStore.micrositeId&&(__WEBPACK_IMPORTED_MODULE_1__shared_service_window_service__.a.element.fctDataStore.addRow=function(dataStoreIdentifier,data){var suppressErrors=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return"object"===(void 0===data?"undefined":_typeof(data))&&(data=JSON.stringify(data)),__WEBPACK_IMPORTED_MODULE_0__shared_service_graphql_service__.a.request("\n            mutation($micrositeId: [ID]!, $dataStoreIdentifier: [String]!, $data: String!) {\n                dataStore(id: $micrositeId) {\n                    addRow(identifier: $dataStoreIdentifier, data: $data)\n                }\n            }",{micrositeId:[__WEBPACK_IMPORTED_MODULE_1__shared_service_window_service__.a.element.fctDataStore.micrositeId],dataStoreIdentifier:[dataStoreIdentifier],data:data}).then(function(){},function(error){if(!suppressErrors)throw error})},__WEBPACK_IMPORTED_MODULE_1__shared_service_window_service__.a.element.fctDataStore.like=function(objectId){var suppressErrors=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return __WEBPACK_IMPORTED_MODULE_0__shared_service_graphql_service__.a.request("\n            mutation($micrositeId: [ID]!, $objectId: [String]!) {\n                micrositeLikes(id: $micrositeId) {\n                    like(object: $objectId)\n                }\n            }",{micrositeId:[__WEBPACK_IMPORTED_MODULE_1__shared_service_window_service__.a.element.fctDataStore.micrositeId],objectId:[objectId]}).then(function(){},function(error){if(!suppressErrors)throw error})},__WEBPACK_IMPORTED_MODULE_1__shared_service_window_service__.a.element.fctDataStore.unlike=function(objectId){var suppressErrors=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return __WEBPACK_IMPORTED_MODULE_0__shared_service_graphql_service__.a.request("\n            mutation($micrositeId: [ID]!, $objectId: [String]!) {\n                micrositeLikes(id: $micrositeId) {\n                    unlike(object: $objectId)\n                }\n            }",{micrositeId:[__WEBPACK_IMPORTED_MODULE_1__shared_service_window_service__.a.element.fctDataStore.micrositeId],objectId:[objectId]}).then(function(){},function(error){if(!suppressErrors)throw error})})}},158:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return graphqlService});var __WEBPACK_IMPORTED_MODULE_0_graphql_request__=__webpack_require__(362),__WEBPACK_IMPORTED_MODULE_1__window_service__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_graphql_request__),__webpack_require__(30)),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();var graphqlService=new(function(){function GraphqlService(){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,GraphqlService),this.FUNCT_GRAPHQL_ENDPOINT_URL="/graphql",this.graphQL={authenticationLoginDiscoveryQuery:"\n            query($discoveryGroup:ID!, $loginIdentifier:String!) {\n                authenticationDiscoveryGroups(id:$discoveryGroup) {\n                    discover(loginIdentifier:$loginIdentifier) {\n                        __typename\n                        ... on PasswordProvider {\n                            id\n                        }\n                        ... on Saml2Provider {\n                            id\n                        }\n                    }\n                }\n            }\n        ",extendAuthSessionMutation:"\n            mutation ($setCookie: Boolean) {\n                extendAuthSession(setCookie: $setCookie) {\n                    code\n                    errorReason\n                    token\n                }\n            }\n        ",passwordAuthenticationMutation:"\n            mutation ($login:String!, $password:String!, $provider: [ID]!, $rememberMe:Boolean!) {\n                passwordProvider(id:$provider) {\n                    authenticate(login:$login, password:$password, setCookie: true, rememberMe:$rememberMe) {\n                        status\n                    }\n                }\n            }\n        ",whoAmIQuery:"\n            {\n                whoAmI {\n                    sessionExpiresIn\n                    sessionStatus\n                }\n            }\n        ",notificationsQuery:"\n            query($after: DateTime!) {\n                pushNotifications(after: $after) {\n                    __typename\n                    ... on GenericPushNotification {\n                        title\n                        level\n                        message\n                        id\n                        createdAt\n                    }\n                    ... on MicrositeRequestPushNotification {\n                        title\n                        level\n                        message\n                        id\n                        createdAt\n                        request {\n                            __typename\n                        }\n                    }\n                    ... on MicrositePushNotification {\n                        title\n                        level\n                        message\n                        id\n                        createdAt\n                        microsite {\n                            __typename\n                        }\n                    }\n                }\n            }\n        ",pushToGclCollectionMutation:"\n            mutation($micrositeId:[ID]!, $recordId:[ID]!, $collectionId:ID!, $publishVersion: Boolean){\n                micrositeCollection(id: $micrositeId) {\n                    pushToGclCollection(contentRecords: $recordId, collection: $collectionId, publishVersion: $publishVersion)\n                }\n            }\n        ",requestsRequireApprovalQuery:"\n            query {\n                requests(requireMyApproval: true) {\n                    id\n                }\n            }\n        ",revertCustomizationMutation:"\n            mutation($micrositeId:[ID]!, $recordId:[ID]!){\n                micrositeCollection(id: $micrositeId) {\n                    revertCustomization(record: $recordId)\n                }\n            }\n        ",setCustomizationPolicyMutation:"\n            mutation($collectionId:[ID]!, $recordId:ID!, $message:String!){\n                gclCollection(id: $collectionId) {\n                    setCustomizationPolicy(record: $recordId, message: $message)\n                }\n            }\n        ",unlockCustomizationMutation:"\n            mutation($micrositeId:[ID]!, $recordId:[ID]!){\n                micrositeCollection(id: $micrositeId) {\n                    unlockCustomization(record: $recordId)\n                }\n            }\n        ",enableLikesMutation:"\n            mutation($micrositeId:[ID]!, $objectId:[String]!){\n                micrositeLikes(id: $micrositeId) {\n                    createObject(object: $objectId)\n                }\n            }\n        ",disableLikesMutation:"\n            mutation($micrositeId:[ID]!, $objectId:[String]!){\n                micrositeLikes(id: $micrositeId) {\n                    deleteObject(object: $objectId)\n                }\n            }\n        ",resetLikesMutation:"\n            mutation($micrositeId:[ID]!, $objectId:[String]!){\n                micrositeLikes(id: $micrositeId) {\n                    reset(object: $objectId)\n                }\n            }\n        "},this._graphQLClient=new __WEBPACK_IMPORTED_MODULE_0_graphql_request__.GraphQLClient(this.FUNCT_GRAPHQL_ENDPOINT_URL,{credentials:"same-origin"}),__WEBPACK_IMPORTED_MODULE_1__window_service__.a.element.FctGraphQLService=this}return _createClass(GraphqlService,[{key:"request",value:function(query,variables){return this._graphQLClient.request(query,variables)}}]),GraphqlService}())},208:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var ClientError=function(_super){function ClientError(response,request){var _this=this,message=ClientError.extractMessage(response)+": "+JSON.stringify({response:response,request:request});return(_this=_super.call(this,message)||this).response=response,_this.request=request,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(_this,ClientError),_this}return __extends(ClientError,_super),ClientError.extractMessage=function(response){try{return response.errors[0].message}catch(e){return"GraphQL Error (Code: "+response.status+")"}},ClientError}(Error);exports.ClientError=ClientError},30:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return windowService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();var windowService=new(function(){function WindowService(options){var _this=this;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,WindowService),this.BREAKPOINTS={sm:768,lg:1280,WPsm:783,WPmd:961},this.isLoadingAnotherPage=!1,options&&options.element&&(this.element=options.element,this.document=this.element.document,this.localStorage=this.element.localStorage,this.location=this.element.location,this.navigator=this.element.navigator,document.addEventListener("DOMContentLoaded",function(){_this.body=_this.element.document.body}),this.element.addEventListener("beforeunload",function(){_this.isLoadingAnotherPage=!0}))}return _createClass(WindowService,[{key:"isBreakpointMin",value:function(breakpoint){return this.element.innerWidth>this.BREAKPOINTS[breakpoint]}},{key:"getGlobalProperty",value:function(propertyName){return this._fetchFromObject(this.element,propertyName)}},{key:"_fetchFromObject",value:function(obj,prop){if(void 0===obj)return null;var index=prop.indexOf(".");return-1<index?this._fetchFromObject(obj[prop.substring(0,index)],prop.substr(index+1)):obj[prop]}}]),WindowService}())({element:window})},309:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return sessionService});var __WEBPACK_IMPORTED_MODULE_0__admin_service_dom_service__=__webpack_require__(94),__WEBPACK_IMPORTED_MODULE_1__graphql_service__=__webpack_require__(158),__WEBPACK_IMPORTED_MODULE_2__session_error_service__=__webpack_require__(364),__WEBPACK_IMPORTED_MODULE_3__session_renewal_service__=__webpack_require__(478),__WEBPACK_IMPORTED_MODULE_4__window_service__=__webpack_require__(30),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();var sessionService=new(function(){function SessionService(){var _this=this;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,SessionService),this.SESSION_DEBUG=!1,this.SESSION_AUTHENTICATION_CHECK_INTERVAL_SECONDS=60,this.sessionAuthenticatedEvent="sessionService:authenticated",this.sessionUnauthenticatedEvent="sessionService:unauthenticated",this._elementSelectors={wpAuthCheck:"#wp-auth-check-wrap"},this._elements={wpAuthCheck:void 0},this._checkSessionAuthentication(),__WEBPACK_IMPORTED_MODULE_0__admin_service_dom_service__.a.onDOMContentLoaded(function(){_this._elements.wpAuthCheck=__WEBPACK_IMPORTED_MODULE_4__window_service__.a.body.querySelector(_this._elementSelectors.wpAuthCheck)})}return _createClass(SessionService,[{key:"getSessionExpiresInSeconds",value:function(){return this._sessionExpiresInSeconds}},{key:"sessionAuthenticated",value:function(){this._debug("User is logged in."),this._triggerWpAuthCheck(!1),__WEBPACK_IMPORTED_MODULE_3__session_renewal_service__.a.setSessionRenewalTimer(),__WEBPACK_IMPORTED_MODULE_0__admin_service_dom_service__.a.dispatchEvent(this.sessionAuthenticatedEvent)}},{key:"sessionUnauthenticated",value:function(){this._debug("User logged out. Showing user dialog."),this._triggerWpAuthCheck(!0),__WEBPACK_IMPORTED_MODULE_2__session_error_service__.a.showErrorMessage("You are not authenticated. Please log in again."),__WEBPACK_IMPORTED_MODULE_0__admin_service_dom_service__.a.dispatchEvent(this.sessionUnauthenticatedEvent)}},{key:"_checkSessionAuthentication",value:function(){this._debug("Starting check for session authentication every "+this.SESSION_AUTHENTICATION_CHECK_INTERVAL_SECONDS+" seconds."),setInterval(this._getSessionData.bind(this),1e3*this.SESSION_AUTHENTICATION_CHECK_INTERVAL_SECONDS)}},{key:"_debug",value:function(message){this.SESSION_DEBUG&&console.log("[SessionService] "+message)}},{key:"_getSessionData",value:function(successCallback){var _this2=this;__WEBPACK_IMPORTED_MODULE_1__graphql_service__.a.request(__WEBPACK_IMPORTED_MODULE_1__graphql_service__.a.graphQL.whoAmIQuery).then(function(data){if(data&&data.whoAmI){var sessionData=data.whoAmI;"AUTHENTICATED"===sessionData.sessionStatus?(_this2._sessionExpiresInSeconds=sessionData.sessionExpiresIn,_this2._debug("Session expiring in "+_this2._sessionExpiresInSeconds+" seconds."),_this2.sessionAuthenticated(),successCallback&&successCallback(sessionData)):_this2.sessionUnauthenticated()}},function(error){__WEBPACK_IMPORTED_MODULE_2__session_error_service__.a.showErrorMessage("Server could not be contacted for retrieving session status."),_this2._debug(error)})}},{key:"_triggerWpAuthCheck",value:function(show){if(this._elements.wpAuthCheck){if(!show)return this._elements.wpAuthCheck.classList.add("hidden"),void this._debug("Hiding WP-Auth-Check");this._elements.wpAuthCheck.classList.remove("hidden"),this._debug("Showing WP-Auth-Check")}}}]),SessionService}())},310:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return DomService});var __WEBPACK_IMPORTED_MODULE_0__window_service__=__webpack_require__(30),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();var DomService=function(){function DomService(options){var _this=this;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DomService),this.isDOMContentLoaded=!1,options&&options.element&&(this.element=options.element,this.onDOMContentLoaded(function(){_this._initDomElement()}))}return _createClass(DomService,[{key:"appendElement",value:function(element){if(element)return this.element.appendChild(element)}},{key:"appendElementHtml",value:function(html){if(html){var element=this.htmlToElement(html);return this.appendElement(element)}}},{key:"querySelector",value:function(query){if(query)return this.element.querySelector(query)}},{key:"querySelectorAll",value:function(query){if(query)return this.element.querySelectorAll(query)}},{key:"onDOMContentLoaded",value:function(callback){var _this2=this;this.isDOMContentLoaded?callback():__WEBPACK_IMPORTED_MODULE_0__window_service__.a.document.addEventListener("DOMContentLoaded",function(){_this2.isDOMContentLoaded=!0,callback()})}},{key:"removeElement",value:function(element){if(element)return this.element.removeChild(element)}},{key:"dispatchEvent",value:function(eventName,eventData){if(eventName){var event=__WEBPACK_IMPORTED_MODULE_0__window_service__.a.element.document.createEvent("CustomEvent");event.initCustomEvent(eventName,!1,!1,eventData),this.element.dispatchEvent(event)}}},{key:"addEventListener",value:function(event,listener){event&&listener&&this.element.addEventListener(event,listener)}},{key:"removeEventListener",value:function(event,listener){event&&listener&&this.element.removeEventListener(event,listener)}},{key:"htmlToElement",value:function(html){if(html){var template=__WEBPACK_IMPORTED_MODULE_0__window_service__.a.document.createElement("template");return template.innerHTML=html.trim(),(template.content||template).firstChild}}},{key:"detach",value:function(element){element.parentNode.removeChild(element)}},{key:"insertAfter",value:function(newNode,referenceNode){referenceNode.parentNode.insertBefore(newNode,referenceNode.nextSibling)}},{key:"isVisible",value:function(element){return!!element.offsetParent}},{key:"_initDomElement",value:function(){this.element=__WEBPACK_IMPORTED_MODULE_0__window_service__.a.body.querySelector(this.element),this.element?this.element.classList.add("fct-admin"):this.element=__WEBPACK_IMPORTED_MODULE_0__window_service__.a.body.appendChild(this.htmlToElement("<div class='fct-admin'></div>"))}}]),DomService}()},362:function(module,exports,__webpack_require__){"use strict";var __assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=y[2&op[0]?"return":op[0]?"throw":"next"])&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[0,t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}},__rest=this&&this.__rest||function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&(t[p[i]]=s[p[i]])}return t};Object.defineProperty(exports,"__esModule",{value:!0});var types_1=__webpack_require__(208),types_2=__webpack_require__(208);exports.ClientError=types_2.ClientError,__webpack_require__(363);var GraphQLClient=function(){function GraphQLClient(url,options){this.url=url,this.options=options||{}}return GraphQLClient.prototype.rawRequest=function(query,variables){return __awaiter(this,void 0,void 0,function(){var _a,headers,others,body,response,result,headers_1,status_1,errorResult;return __generator(this,function(_b){switch(_b.label){case 0:return _a=this.options,headers=_a.headers,others=__rest(_a,["headers"]),body=JSON.stringify({query:query,variables:variables||void 0}),[4,fetch(this.url,__assign({method:"POST",headers:Object.assign({"Content-Type":"application/json"},headers),body:body},others))];case 1:return[4,getResult(response=_b.sent())];case 2:if(result=_b.sent(),response.ok&&!result.errors&&result.data)return headers_1=response.headers,status_1=response.status,[2,__assign({},result,{headers:headers_1,status:status_1})];throw errorResult="string"==typeof result?{error:result}:result,new types_1.ClientError(__assign({},errorResult,{status:response.status,headers:response.headers}),{query:query,variables:variables})}})})},GraphQLClient.prototype.request=function(query,variables){return __awaiter(this,void 0,void 0,function(){var _a,headers,others,body,response,result,errorResult;return __generator(this,function(_b){switch(_b.label){case 0:return _a=this.options,headers=_a.headers,others=__rest(_a,["headers"]),body=JSON.stringify({query:query,variables:variables||void 0}),[4,fetch(this.url,__assign({method:"POST",headers:Object.assign({"Content-Type":"application/json"},headers),body:body},others))];case 1:return[4,getResult(response=_b.sent())];case 2:if(result=_b.sent(),response.ok&&!result.errors&&result.data)return[2,result.data];throw errorResult="string"==typeof result?{error:result}:result,new types_1.ClientError(__assign({},errorResult,{status:response.status}),{query:query,variables:variables})}})})},GraphQLClient.prototype.setHeaders=function(headers){return this.options.headers=headers,this},GraphQLClient.prototype.setHeader=function(key,value){var _a,headers=this.options.headers;return headers?headers[key]=value:this.options.headers=((_a={})[key]=value,_a),this},GraphQLClient}();function request(url,query,variables){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return[2,new GraphQLClient(url).request(query,variables)]})})}function getResult(response){return __awaiter(this,void 0,void 0,function(){var contentType;return __generator(this,function(_a){return(contentType=response.headers.get("Content-Type"))&&contentType.startsWith("application/json")?[2,response.json()]:[2,response.text()]})})}exports.GraphQLClient=GraphQLClient,exports.rawRequest=function(url,query,variables){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return[2,new GraphQLClient(url).rawRequest(query,variables)]})})},exports.request=request,exports.default=request},363:function(module,exports){!function(self){if(!self.fetch){var support={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};if(support.arrayBuffer)var viewClasses=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],isDataView=function(obj){return obj&&DataView.prototype.isPrototypeOf(obj)},isArrayBufferView=ArrayBuffer.isView||function(obj){return obj&&viewClasses.indexOf(Object.prototype.toString.call(obj))>-1};Headers.prototype.append=function(name,value){name=normalizeName(name),value=normalizeValue(value);var oldValue=this.map[name];this.map[name]=oldValue?oldValue+","+value:value},Headers.prototype.delete=function(name){delete this.map[normalizeName(name)]},Headers.prototype.get=function(name){return name=normalizeName(name),this.has(name)?this.map[name]:null},Headers.prototype.has=function(name){return this.map.hasOwnProperty(normalizeName(name))},Headers.prototype.set=function(name,value){this.map[normalizeName(name)]=normalizeValue(value)},Headers.prototype.forEach=function(callback,thisArg){for(var name in this.map)this.map.hasOwnProperty(name)&&callback.call(thisArg,this.map[name],name,this)},Headers.prototype.keys=function(){var items=[];return this.forEach(function(value,name){items.push(name)}),iteratorFor(items)},Headers.prototype.values=function(){var items=[];return this.forEach(function(value){items.push(value)}),iteratorFor(items)},Headers.prototype.entries=function(){var items=[];return this.forEach(function(value,name){items.push([name,value])}),iteratorFor(items)},support.iterable&&(Headers.prototype[Symbol.iterator]=Headers.prototype.entries);var methods=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];Request.prototype.clone=function(){return new Request(this,{body:this._bodyInit})},Body.call(Request.prototype),Body.call(Response.prototype),Response.prototype.clone=function(){return new Response(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Headers(this.headers),url:this.url})},Response.error=function(){var response=new Response(null,{status:0,statusText:""});return response.type="error",response};var redirectStatuses=[301,302,303,307,308];Response.redirect=function(url,status){if(-1===redirectStatuses.indexOf(status))throw new RangeError("Invalid status code");return new Response(null,{status:status,headers:{location:url}})},self.Headers=Headers,self.Request=Request,self.Response=Response,self.fetch=function(input,init){return new Promise(function(resolve,reject){var request=new Request(input,init),xhr=new XMLHttpRequest;xhr.onload=function(){var options={status:xhr.status,statusText:xhr.statusText,headers:function(rawHeaders){var headers=new Headers;return rawHeaders.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(line){var parts=line.split(":"),key=parts.shift().trim();if(key){var value=parts.join(":").trim();headers.append(key,value)}}),headers}(xhr.getAllResponseHeaders()||"")};options.url="responseURL"in xhr?xhr.responseURL:options.headers.get("X-Request-URL");var body="response"in xhr?xhr.response:xhr.responseText;resolve(new Response(body,options))},xhr.onerror=function(){reject(new TypeError("Network request failed"))},xhr.ontimeout=function(){reject(new TypeError("Network request failed"))},xhr.open(request.method,request.url,!0),"include"===request.credentials?xhr.withCredentials=!0:"omit"===request.credentials&&(xhr.withCredentials=!1),"responseType"in xhr&&support.blob&&(xhr.responseType="blob"),request.headers.forEach(function(value,name){xhr.setRequestHeader(name,value)}),xhr.send(void 0===request._bodyInit?null:request._bodyInit)})},self.fetch.polyfill=!0}function normalizeName(name){if("string"!=typeof name&&(name=String(name)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(name))throw new TypeError("Invalid character in header field name");return name.toLowerCase()}function normalizeValue(value){return"string"!=typeof value&&(value=String(value)),value}function iteratorFor(items){var iterator={next:function(){var value=items.shift();return{done:void 0===value,value:value}}};return support.iterable&&(iterator[Symbol.iterator]=function(){return iterator}),iterator}function Headers(headers){this.map={},headers instanceof Headers?headers.forEach(function(value,name){this.append(name,value)},this):Array.isArray(headers)?headers.forEach(function(header){this.append(header[0],header[1])},this):headers&&Object.getOwnPropertyNames(headers).forEach(function(name){this.append(name,headers[name])},this)}function consumed(body){if(body.bodyUsed)return Promise.reject(new TypeError("Already read"));body.bodyUsed=!0}function fileReaderReady(reader){return new Promise(function(resolve,reject){reader.onload=function(){resolve(reader.result)},reader.onerror=function(){reject(reader.error)}})}function readBlobAsArrayBuffer(blob){var reader=new FileReader,promise=fileReaderReady(reader);return reader.readAsArrayBuffer(blob),promise}function bufferClone(buf){if(buf.slice)return buf.slice(0);var view=new Uint8Array(buf.byteLength);return view.set(new Uint8Array(buf)),view.buffer}function Body(){return this.bodyUsed=!1,this._initBody=function(body){if(this._bodyInit=body,body)if("string"==typeof body)this._bodyText=body;else if(support.blob&&Blob.prototype.isPrototypeOf(body))this._bodyBlob=body;else if(support.formData&&FormData.prototype.isPrototypeOf(body))this._bodyFormData=body;else if(support.searchParams&&URLSearchParams.prototype.isPrototypeOf(body))this._bodyText=body.toString();else if(support.arrayBuffer&&support.blob&&isDataView(body))this._bodyArrayBuffer=bufferClone(body.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!support.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(body)&&!isArrayBufferView(body))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=bufferClone(body)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof body?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):support.searchParams&&URLSearchParams.prototype.isPrototypeOf(body)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},support.blob&&(this.blob=function(){var rejected=consumed(this);if(rejected)return rejected;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?consumed(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(readBlobAsArrayBuffer)}),this.text=function(){var rejected=consumed(this);if(rejected)return rejected;if(this._bodyBlob)return function(blob){var reader=new FileReader,promise=fileReaderReady(reader);return reader.readAsText(blob),promise}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(buf){for(var view=new Uint8Array(buf),chars=new Array(view.length),i=0;i<view.length;i++)chars[i]=String.fromCharCode(view[i]);return chars.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},support.formData&&(this.formData=function(){return this.text().then(decode)}),this.json=function(){return this.text().then(JSON.parse)},this}function Request(input,options){var body=(options=options||{}).body;if(input instanceof Request){if(input.bodyUsed)throw new TypeError("Already read");this.url=input.url,this.credentials=input.credentials,options.headers||(this.headers=new Headers(input.headers)),this.method=input.method,this.mode=input.mode,body||null==input._bodyInit||(body=input._bodyInit,input.bodyUsed=!0)}else this.url=String(input);if(this.credentials=options.credentials||this.credentials||"omit",!options.headers&&this.headers||(this.headers=new Headers(options.headers)),this.method=function(method){var upcased=method.toUpperCase();return methods.indexOf(upcased)>-1?upcased:method}(options.method||this.method||"GET"),this.mode=options.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&body)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(body)}function decode(body){var form=new FormData;return body.trim().split("&").forEach(function(bytes){if(bytes){var split=bytes.split("="),name=split.shift().replace(/\+/g," "),value=split.join("=").replace(/\+/g," ");form.append(decodeURIComponent(name),decodeURIComponent(value))}}),form}function Response(bodyInit,options){options||(options={}),this.type="default",this.status=void 0===options.status?200:options.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in options?options.statusText:"OK",this.headers=new Headers(options.headers),this.url=options.url||"",this._initBody(bodyInit)}}("undefined"!=typeof self?self:this)},364:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return sessionErrorService});var __WEBPACK_IMPORTED_MODULE_0__admin_service_dom_service__=__webpack_require__(94),__WEBPACK_IMPORTED_MODULE_1__admin_service_modal_service__=__webpack_require__(476),__WEBPACK_IMPORTED_MODULE_2__router_service__=__webpack_require__(365),__WEBPACK_IMPORTED_MODULE_3__session_service__=__webpack_require__(309),__WEBPACK_IMPORTED_MODULE_4__window_service__=__webpack_require__(30),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();var sessionErrorService=new(function(){function SessionErrorService(){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,SessionErrorService),this.SESSION_ERROR_DEBUG=!1,this._shouldShowErrorMessage=__WEBPACK_IMPORTED_MODULE_2__router_service__.a.isAdminArea()}return _createClass(SessionErrorService,[{key:"_debug",value:function(message){this.SESSION_ERROR_DEBUG&&console.log("[SessionErrorService] "+message)}},{key:"showErrorMessage",value:function(message){var _this=this,timer=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,closeModalWhenSessionExpiresInMoreThan=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(this._shouldShowErrorMessage&&message){var closeEvent=__WEBPACK_IMPORTED_MODULE_3__session_service__.a.sessionAuthenticatedEvent;this._closeEventListener=this._onEventCloseErrorMessage.bind(this,closeEvent,closeModalWhenSessionExpiresInMoreThan),clearTimeout(this._sessionErrorMessageTimer),this._sessionErrorMessageTimer=setTimeout(function(){__WEBPACK_IMPORTED_MODULE_4__window_service__.a.isLoadingAnotherPage||(__WEBPACK_IMPORTED_MODULE_1__admin_service_modal_service__.a.openConfirmationModal({text:""+message,submitButtonText:"Log in now",submitCallback:function(){return __WEBPACK_IMPORTED_MODULE_2__router_service__.a.redirect(__WEBPACK_IMPORTED_MODULE_2__router_service__.a.getLoginUrl())},closeCallback:function(){return __WEBPACK_IMPORTED_MODULE_0__admin_service_dom_service__.a.removeEventListener(closeEvent,_this._closeEventListener)}}),__WEBPACK_IMPORTED_MODULE_0__admin_service_dom_service__.a.removeEventListener(closeEvent,_this._closeEventListener),__WEBPACK_IMPORTED_MODULE_0__admin_service_dom_service__.a.addEventListener(closeEvent,_this._closeEventListener))},timer),this._debug("An error occurred. Will show user dialog in "+timer/1e3+" seconds.")}}},{key:"_onEventCloseErrorMessage",value:function(closeEvent,closeModalWhenSessionExpiresInMoreThan){__WEBPACK_IMPORTED_MODULE_3__session_service__.a.getSessionExpiresInSeconds()<=closeModalWhenSessionExpiresInMoreThan?this._debug("Not closing user dialog yet. Only "+__WEBPACK_IMPORTED_MODULE_3__session_service__.a.getSessionExpiresInSeconds()+" seconds before session expires."):(this._debug("Closing user dialog."),__WEBPACK_IMPORTED_MODULE_1__admin_service_modal_service__.a.closeModal(),__WEBPACK_IMPORTED_MODULE_0__admin_service_dom_service__.a.removeEventListener(closeEvent,this._closeEventListener))}}]),SessionErrorService}())},365:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return routerService});var __WEBPACK_IMPORTED_MODULE_0__window_service__=__webpack_require__(30),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();var routerService=new(function(){function RouterService(){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,RouterService)}return _createClass(RouterService,[{key:"forceSslUrl",value:function(url){if(url){var sslUrl=url;return-1!==sslUrl.search(/^https:/)?sslUrl:"https://"+(sslUrl=(sslUrl=sslUrl.replace(/^http:/,"")).replace(/^\/+/,""))}}},{key:"getLoginUrl",value:function(relayStateUrl){var relayState=relayStateUrl||__WEBPACK_IMPORTED_MODULE_0__window_service__.a.location.href;return __WEBPACK_IMPORTED_MODULE_0__window_service__.a.getGlobalProperty("FctGlobalSettings.loginBaseUrl")+"?RelayState="+encodeURIComponent(relayState)}},{key:"isAdminArea",value:function(){return-1!==__WEBPACK_IMPORTED_MODULE_0__window_service__.a.location.pathname.indexOf("/admin/")||-1!==__WEBPACK_IMPORTED_MODULE_0__window_service__.a.location.pathname.indexOf("wp-admin/")}},{key:"redirect",value:function(url){url&&(__WEBPACK_IMPORTED_MODULE_0__window_service__.a.location.href=url)}}]),RouterService}())},366:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return AbstractTrustarcDependency});var __WEBPACK_IMPORTED_MODULE_0__window_service__=__webpack_require__(30),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();var AbstractTrustarcDependency=function(){function AbstractTrustarcDependency(onApprovedCallback,trustArcConsentApi){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,AbstractTrustarcDependency),this.onApprovedCallback=onApprovedCallback,this.trustArcConsentApi=trustArcConsentApi,this.isApproved=!1}return _createClass(AbstractTrustarcDependency,[{key:"updatedApprovedState",value:function(isApproved){if(isApproved!==this.isApproved)return!this.isApproved&&isApproved?(this.isApproved=isApproved,void this.onApprovedCallback()):void(this.isApproved&&!isApproved&&__WEBPACK_IMPORTED_MODULE_0__window_service__.a.element.location.reload())}}]),AbstractTrustarcDependency}()},476:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return modalService});var __WEBPACK_IMPORTED_MODULE_0__component_modal_component__=__webpack_require__(477),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();var modalService=new(function(){function ModalService(){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ModalService)}return _createClass(ModalService,[{key:"openConfirmationModal",value:function(options){if(!options)throw new Error("No options provided for confirmation modal.");if(!options.text)throw new Error("Please provide text option for confirmation modal.");if(!options.submitButtonText)throw new Error("Please provide submitButtonText option for confirmation modal.");if(!options.submitCallback)throw new Error("Please provide callback option for confirmation modal.");this._showModal(options)}},{key:"closeModal",value:function(){this._modal&&this._modal.closeModal()}},{key:"_showModal",value:function(options){this._modal&&this._modalOptions&&!this._isEqualToModalOptions(options)&&(this._modal.destroy(),this._modal=void 0),this._modal||(this._modal=new __WEBPACK_IMPORTED_MODULE_0__component_modal_component__.a(options)),this._modalOptions=options,this._modal.showModal()}},{key:"_isEqualToModalOptions",value:function(options){var isEqual=!1;return options&&this._modalOptions?(options.hasOwnProperty("text")&&this._modalOptions.hasOwnProperty("text")&&this._modalOptions.text===options.text&&(isEqual=!0),options.hasOwnProperty("submitButtonText")&&this._modalOptions.hasOwnProperty("submitButtonText")&&this._modalOptions.submitButtonText===options.submitButtonText&&(isEqual=isEqual||!0),isEqual):isEqual}}]),ModalService}())},477:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__service_dom_service__=__webpack_require__(94),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();var ModalComponent=function(){function ModalComponent(options){var _this=this;if(function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ModalComponent),this.options={text:void 0,submitButtonText:"Submit",submitCallback:void 0,closeButtonText:"Cancel",closeCallback:void 0},this.template='\n        <div class="fct-c-modal">\n            <div class="fct-c-modal__backdrop"></div>\n\n            <div class="fct-c-modal__content-container">\n                <div class="fct-c-modal__content">\n                    <div class="fct-js-modal-text fct-u-space-bottom"></div>\n                    \n                    <div class="fct-u-text-right">\n                        <button class="fct-js-modal-submit-button fct-c-button--primary"\n                            type="submit"\n                            form="form"\n                        >\n                            Submit\n                        </button>\n                        \n                        <button class="fct-js-modal-close-button"\n                            type="button"\n                        >\n                            Cancel\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    ',this._elements={closeButton:void 0,submitButton:void 0,text:void 0},this._elementSelectors={closeButton:".fct-js-modal-close-button",submitButton:".fct-js-modal-submit-button",text:".fct-js-modal-text"},!options)throw new Error("No options provided for ModalComponent");this.options=Object.assign({},this.options,options),__WEBPACK_IMPORTED_MODULE_0__service_dom_service__.a.onDOMContentLoaded(function(){_this._element=__WEBPACK_IMPORTED_MODULE_0__service_dom_service__.a.appendElementHtml(_this.template),_this._initElements(),_this._elements.closeButton.addEventListener("click",_this.closeModal.bind(_this)),_this._elements.closeButton.innerHTML=_this.options.closeButtonText,_this._elements.submitButton.innerHTML=_this.options.submitButtonText,_this._elements.text.innerHTML=_this.options.text,_this.options.submitCallback&&(_this._elements.submitButton.addEventListener("click",_this.options.submitCallback),_this.options.closeCallback&&_this._elements.closeButton.addEventListener("click",_this.options.closeCallback))})}return _createClass(ModalComponent,[{key:"showModal",value:function(){var _this2=this;__WEBPACK_IMPORTED_MODULE_0__service_dom_service__.a.onDOMContentLoaded(function(){_this2._element.classList.add("is-open")})}},{key:"closeModal",value:function(){var _this3=this;__WEBPACK_IMPORTED_MODULE_0__service_dom_service__.a.onDOMContentLoaded(function(){_this3._element.classList.remove("is-open")})}},{key:"destroy",value:function(){var _this4=this;__WEBPACK_IMPORTED_MODULE_0__service_dom_service__.a.onDOMContentLoaded(function(){__WEBPACK_IMPORTED_MODULE_0__service_dom_service__.a.removeElement(_this4._element)})}},{key:"_initElements",value:function(){for(var elementSelector in this._elementSelectors)this._elementSelectors.hasOwnProperty(elementSelector)&&(this._elements[elementSelector]=this._element.querySelector(this._elementSelectors[elementSelector]))}}]),ModalComponent}();__webpack_exports__.a=ModalComponent},478:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return sessionRenewalService});var __WEBPACK_IMPORTED_MODULE_0__graphql_service__=__webpack_require__(158),__WEBPACK_IMPORTED_MODULE_1__admin_service_math_service__=__webpack_require__(479),__WEBPACK_IMPORTED_MODULE_2__session_error_service__=__webpack_require__(364),__WEBPACK_IMPORTED_MODULE_3__session_service__=__webpack_require__(309),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();var sessionRenewalService=new(function(){function SessionRenewalService(){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,SessionRenewalService),this.SESSION_RENEWAL_DEBUG=!1,this.SESSION_RENEWAL_BEFORE_EXPIRATION_SECONDS_MIN=180,this.SESSION_RENEWAL_BEFORE_EXPIRATION_SECONDS_MAX=600,this.SESSION_RENEWAL_FAILED_DISPLAY_MESSAGE_BEFORE_EXPIRATION_SECONDS=120,this.SESSION_RENEWAL_RESPONSE_CODES={SUCCESS:1,ERROR_TOKEN_INVALID:-1,ERROR_TOKEN_EXPIRED:-2,ERROR_REQUEST_SENT_TOO_EARLY:-3,ERROR_SESSION_EXTENSION_LIMIT_REACHED:-4,ERROR_NOT_AUTHENTICATED:-5}}return _createClass(SessionRenewalService,[{key:"setSessionRenewalTimer",value:function(){var _this=this;if(!this._sessionRenewalTimer){var sessionExpiresInSeconds=__WEBPACK_IMPORTED_MODULE_3__session_service__.a.getSessionExpiresInSeconds(),sessionRenewalIntervalMilliseconds=1e3*this._generateSessionRenewalIntervalSeconds(sessionExpiresInSeconds);this._sessionRenewalTimer=setTimeout(function(){return _this._renewSessionWhenNotAlreadyRenewed()},sessionRenewalIntervalMilliseconds),this._debug("Set timer to check for session expiration in: "+sessionRenewalIntervalMilliseconds/1e3+" seconds")}}},{key:"_clearSessionRenewalTimer",value:function(){clearTimeout(this._sessionRenewalTimer),this._sessionRenewalTimer=void 0}},{key:"_debug",value:function(message){this.SESSION_RENEWAL_DEBUG&&console.log("[SessionRenewalService] "+message)}},{key:"_generateSessionRenewalIntervalSeconds",value:function(sessionExpiresInSeconds){var sessionRenewalBeforeExpiration=__WEBPACK_IMPORTED_MODULE_1__admin_service_math_service__.a.randomIntFromInterval(this.SESSION_RENEWAL_BEFORE_EXPIRATION_SECONDS_MIN,this.SESSION_RENEWAL_BEFORE_EXPIRATION_SECONDS_MAX),sessionRenewalInterval=sessionExpiresInSeconds-sessionRenewalBeforeExpiration;return this._debug("Generated random session renewal timing between "+this.SESSION_RENEWAL_BEFORE_EXPIRATION_SECONDS_MIN+" (min) and "+this.SESSION_RENEWAL_BEFORE_EXPIRATION_SECONDS_MAX+" (max): "+sessionRenewalBeforeExpiration+" seconds (before expiration)"),sessionRenewalInterval=sessionRenewalInterval<0?0:sessionRenewalInterval}},{key:"_renewSessionWhenNotAlreadyRenewed",value:function(){var _this2=this,sessionExpiresInSeconds=__WEBPACK_IMPORTED_MODULE_3__session_service__.a.getSessionExpiresInSeconds();if(sessionExpiresInSeconds>this.SESSION_RENEWAL_BEFORE_EXPIRATION_SECONDS_MAX)return this._debug("Session already renewed. Aborting renewal attempt."),void this._clearSessionRenewalTimer();this._debug("Session expires in less than "+this.SESSION_RENEWAL_BEFORE_EXPIRATION_SECONDS_MAX+" seconds. Trying to renew session "),this._requestSessionRenewal(function(sessionRenewalData){if(sessionRenewalData.code!==_this2.SESSION_RENEWAL_RESPONSE_CODES.SUCCESS){_this2._debug("Session renewal failed: "+sessionRenewalData.errorReason+" ("+sessionRenewalData.code+")");var showMessageBeforeExpirationIntervalMilliseconds=1e3*(sessionExpiresInSeconds-_this2.SESSION_RENEWAL_FAILED_DISPLAY_MESSAGE_BEFORE_EXPIRATION_SECONDS);return showMessageBeforeExpirationIntervalMilliseconds=showMessageBeforeExpirationIntervalMilliseconds<0?0:showMessageBeforeExpirationIntervalMilliseconds,__WEBPACK_IMPORTED_MODULE_2__session_error_service__.a.showErrorMessage("Your session could not be renewed. Please log in again.",showMessageBeforeExpirationIntervalMilliseconds,_this2.SESSION_RENEWAL_FAILED_DISPLAY_MESSAGE_BEFORE_EXPIRATION_SECONDS),void _this2._clearSessionRenewalTimer()}_this2._clearSessionRenewalTimer(),_this2._debug("Session successfully renewed. Token: "+sessionRenewalData.token)})}},{key:"_requestSessionRenewal",value:function(successCallback){var _this3=this;__WEBPACK_IMPORTED_MODULE_0__graphql_service__.a.request(__WEBPACK_IMPORTED_MODULE_0__graphql_service__.a.graphQL.extendAuthSessionMutation,{setCookie:!0}).then(function(data){data&&data.extendAuthSession&&successCallback(data.extendAuthSession)},function(error){__WEBPACK_IMPORTED_MODULE_2__session_error_service__.a.showErrorMessage("Server could not be contacted for session extension."),_this3._debug(error)})}}]),SessionRenewalService}())},479:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return mathService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();var mathService=new(function(){function MathService(){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,MathService)}return _createClass(MathService,[{key:"randomIntFromInterval",value:function(min,max){return Math.floor(Math.random()*(max-min+1)+min)}}]),MathService}())},480:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return cookieConsentService});var __WEBPACK_IMPORTED_MODULE_0__trustarc_functional_consent_dependency__=__webpack_require__(481),__WEBPACK_IMPORTED_MODULE_1__trustarc_url_dependency__=__webpack_require__(482),__WEBPACK_IMPORTED_MODULE_2__window_service__=__webpack_require__(30),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();var cookieConsentService=new(function(){function CookieConsentService(){var _this=this;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,CookieConsentService),this.cookieName="fctTrackingConsentGiven",this.eventName="trackingConsentGiven",this.trustArcApi=void 0,this.trustArcApiPromise=new Promise(function(resolve){__WEBPACK_IMPORTED_MODULE_2__window_service__.a.element.addEventListener("load",function(){_this.trustArcApi=truste,resolve()})}),__WEBPACK_IMPORTED_MODULE_2__window_service__.a.element.fctCookieConsentService=this,this._deleteCookie(),this.watchFunctionalConsentGiven(function(){_this._emitDocumentEvent(),_this._setCookie()})}return _createClass(CookieConsentService,[{key:"_setCookie",value:function(){__WEBPACK_IMPORTED_MODULE_2__window_service__.a.document.cookie=this.cookieName+"=1"}},{key:"_deleteCookie",value:function(){__WEBPACK_IMPORTED_MODULE_2__window_service__.a.document.cookie=this.cookieName+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;"}},{key:"_emitDocumentEvent",value:function(){var event=__WEBPACK_IMPORTED_MODULE_2__window_service__.a.document.createEvent("Event");event.initEvent(this.eventName,!0,!0),__WEBPACK_IMPORTED_MODULE_2__window_service__.a.document.dispatchEvent(event)}},{key:"_isApiReady",value:function(){var _this2=this;return new Promise(function(resolve){_this2.trustArcApi?resolve():_this2.trustArcApiPromise.then(function(){resolve()})})}},{key:"watchFunctionalConsentGiven",value:function(callback){var _this3=this;this._isApiReady().then(function(){new __WEBPACK_IMPORTED_MODULE_0__trustarc_functional_consent_dependency__.a(callback,_this3.trustArcApi)})}},{key:"watchUrl",value:function(url,callback){var _this4=this;this._isApiReady().then(function(){new __WEBPACK_IMPORTED_MODULE_1__trustarc_url_dependency__.a(url,callback,_this4.trustArcApi)})}},{key:"openConsentModal",value:function(){var _this5=this;this._isApiReady().then(function(){_this5.trustArcApi.eu.reopenBanner()})}}]),CookieConsentService}())},481:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return TrustarcFunctionalConsentDependency});var __WEBPACK_IMPORTED_MODULE_0__abstract_trustarc_dependency__=__webpack_require__(366),__WEBPACK_IMPORTED_MODULE_1__window_service__=__webpack_require__(30),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();var TrustarcFunctionalConsentDependency=function(_AbstractTrustarcDepe){function TrustarcFunctionalConsentDependency(onApprovedCallback,trustArcConsentApi){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,TrustarcFunctionalConsentDependency);var _this=function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(TrustarcFunctionalConsentDependency.__proto__||Object.getPrototypeOf(TrustarcFunctionalConsentDependency)).call(this,onApprovedCallback,trustArcConsentApi)),initState=_this.getCurrentDecision();return _this.updatedApprovedState(initState),_this.watch(),_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(TrustarcFunctionalConsentDependency,__WEBPACK_IMPORTED_MODULE_0__abstract_trustarc_dependency__["a"]),_createClass(TrustarcFunctionalConsentDependency,[{key:"getCurrentDecision",value:function(){return this.trustArcConsentApi.cma.callApi("getGDPRConsentDecision",__WEBPACK_IMPORTED_MODULE_1__window_service__.a.element.location.hostname).consentDecision.indexOf(2)>-1}},{key:"handleMessage",value:function(message){if(message.data){var data=void 0;try{data=JSON.parse(message.data)}catch(error){return}if(data&&data.PrivacyManagerAPI&&"getConsentDecision"===data.PrivacyManagerAPI.action){var decision=this.getCurrentDecision();this.updatedApprovedState(decision)}}}},{key:"watch",value:function(){var apiObject={PrivacyManagerAPI:{action:"getConsentDecision",timestamp:(new Date).getTime(),self:__WEBPACK_IMPORTED_MODULE_1__window_service__.a.element.location.hostname,authority:"bcg.com"}};__WEBPACK_IMPORTED_MODULE_1__window_service__.a.element.top.postMessage(JSON.stringify(apiObject),"*"),__WEBPACK_IMPORTED_MODULE_1__window_service__.a.element.addEventListener("message",this.handleMessage.bind(this),!1)}}]),TrustarcFunctionalConsentDependency}()},482:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return TrustarcUrlDependency});var __WEBPACK_IMPORTED_MODULE_0__abstract_trustarc_dependency__=__webpack_require__(366),__WEBPACK_IMPORTED_MODULE_1__window_service__=__webpack_require__(30),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();var TrustarcUrlDependency=function(_AbstractTrustarcDepe){function TrustarcUrlDependency(url,onApprovedCallback,trustArcConsentApi){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,TrustarcUrlDependency);var _this=function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(TrustarcUrlDependency.__proto__||Object.getPrototypeOf(TrustarcUrlDependency)).call(this,onApprovedCallback,trustArcConsentApi));_this.url=url,_this.domain=_this.getDomain(url);var initState="approved"===trustArcConsentApi.cma.callApi("getConsent",_this.url).consent;return _this.updatedApprovedState(initState),_this.watch(url),_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(TrustarcUrlDependency,__WEBPACK_IMPORTED_MODULE_0__abstract_trustarc_dependency__["a"]),_createClass(TrustarcUrlDependency,[{key:"getDomain",value:function(url){var dummyElement=__WEBPACK_IMPORTED_MODULE_1__window_service__.a.document.createElement("a");return dummyElement.href=url,dummyElement.hostname}},{key:"handleMessage",value:function(message){if(message.data){var data=void 0;try{data=JSON.parse(message.data)}catch(error){return}data&&data.PrivacyManagerAPI&&"getConsent"===data.PrivacyManagerAPI.action&&data.PrivacyManagerAPI.domain===this.domain&&("denied"!==data.PrivacyManagerAPI.consent?"approved"===data.PrivacyManagerAPI.consent&&this.updatedApprovedState(!0):this.updatedApprovedState(!1))}}},{key:"watch",value:function(){var apiObject={PrivacyManagerAPI:{action:"getConsent",timestamp:(new Date).getTime(),self:__WEBPACK_IMPORTED_MODULE_1__window_service__.a.location.hostname,domain:this.domain,authority:"bcg.com"}};__WEBPACK_IMPORTED_MODULE_1__window_service__.a.element.top.postMessage(JSON.stringify(apiObject),"*"),__WEBPACK_IMPORTED_MODULE_1__window_service__.a.element.addEventListener("message",this.handleMessage.bind(this),!1)}}]),TrustarcUrlDependency}()},94:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return domService});var domService=new(__webpack_require__(310).a)({element:"#wpcontent"})}});